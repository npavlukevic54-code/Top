<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>DEMO Casino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root {
    --neon: #00ffd5;
    --gold: #ffb700;
    --red: #ff4d4d;
}
body {
    margin:0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at top, #1a1a2e, #050510);
    color:white;
    text-align:center;
}
header {
    padding:15px;
    display:flex;
    justify-content:space-between;
    background:rgba(0,0,0,.6);
    box-shadow:0 0 20px var(--neon);
}
.balance {
    color:var(--neon);
    font-weight:bold;
}
.menu button {
    margin:6px;
    padding:12px 18px;
    border-radius:14px;
    border:none;
    background:linear-gradient(135deg,var(--gold),#ff7b00);
    font-weight:bold;
    cursor:pointer;
}
.game { display:none; padding:20px; }
.reel {
    width:80px;height:80px;
    font-size:40px;
    background:#111;
    border-radius:14px;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 0 15px var(--neon) inset;
}
.slot { display:flex; justify-content:center; gap:10px; margin:20px }
button:active { transform:scale(.95) }

.result { margin-top:10px }
.win { color:#00ff88 }
.lose { color:var(--red) }

/* CRASH */
.crash {
    font-size:42px;
    color:var(--neon);
    text-shadow:0 0 20px var(--neon);
}

/* ROULETTE */
.roulette {
    font-size:60px;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    from {transform:rotate(0deg)}
    to {transform:rotate(360deg)}
}

/* MINES */
.grid {
    display:grid;
    grid-template-columns:repeat(5,60px);
    gap:8px;
    justify-content:center;
}
.cell {
    width:60px;height:60px;
    background:#111;
    border-radius:10px;
    box-shadow:0 0 10px var(--neon);
    cursor:pointer;
    font-size:28px;
    display:flex;
    align-items:center;
    justify-content:center;
}
</style>
</head>

<body>

<header>
    <div>ğŸ° DEMO Casino</div>
    <div class="balance">ğŸ’° <span id="balance">10000</span></div>
</header>

<div class="menu">
    <button onclick="show('slots')">ğŸ° Slots</button>
    <button onclick="show('crash')">ğŸš€ Crash</button>
    <button onclick="show('roulette')">ğŸ¡ Roulette</button>
    <button onclick="show('mines')">ğŸ’£ Mines</button>
</div>

<!-- SLOTS -->
<div id="slots" class="game">
    <h2>Slots</h2>
    <div class="slot">
        <div class="reel" id="s1">ğŸ’</div>
        <div class="reel" id="s2">ğŸ‹</div>
        <div class="reel" id="s3">ğŸ‡</div>
    </div>
    <button onclick="spin()">SPIN (100)</button>
    <div id="slotRes" class="result"></div>
</div>

<!-- CRASH -->
<div id="crash" class="game">
    <h2>Crash</h2>
    <div id="crashVal" class="crash">1.00x</div>
    <button onclick="startCrash()">Ğ¡Ğ¢ĞĞ’ĞšĞ 100</button>
    <button onclick="cashout()">Ğ—ĞĞ‘Ğ ĞĞ¢Ğ¬</button>
    <div id="crashRes" class="result"></div>
</div>

<!-- ROULETTE -->
<div id="roulette" class="game">
    <h2>Roulette</h2>
    <div class="roulette">ğŸ¡</div>
    <button onclick="playRoulette()">ĞšĞ Ğ£Ğ¢Ğ˜Ğ¢Ğ¬ (100)</button>
    <div id="roulRes" class="result"></div>
</div>

<!-- MINES -->
<div id="mines" class="game">
    <h2>Mines</h2>
    <div class="grid" id="grid"></div>
    <button onclick="startMines()">Ğ¡Ğ¢ĞĞ’ĞšĞ 100</button>
    <div id="mineRes" class="result"></div>
</div>

<script>
const tg = Telegram.WebApp; tg.expand();
let balance = 10000, bet = 100;

/* NAV */
function show(id){
    document.querySelectorAll('.game').forEach(g=>g.style.display='none');
    document.getElementById(id).style.display='block';
}

/* SLOTS */
const sym=["ğŸ’","ğŸ‹","ğŸ‡","ğŸ””","â­","ğŸ’"];
function spin(){
    if(balance<bet)return;
    balance-=bet;
    let a=r(),b=r(),c=r();
    s1.innerText=a; s2.innerText=b; s3.innerText=c;
    let win=0;
    if(a==b&&b==c)win=bet*5;
    else if(a==b||b==c||a==c)win=bet*2;
    if(win){balance+=win;res('slotRes',"ğŸ‰ +"+win,'win')}
    else res('slotRes',"ğŸ˜¢ ĞŸÑ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ñˆ",'lose');
    upd();
}

/* CRASH */
let cx=1,ct=null,ing=false;
function startCrash(){
    if(ing||balance<bet)return;
    balance-=bet; cx=1; ing=true; upd();
    ct=setInterval(()=>{
        cx+=0.05;
        crashVal.innerText=cx.toFixed(2)+"x";
        if(Math.random()<0.02)boom();
    },100);
}
function cashout(){
    if(!ing)return;
    clearInterval(ct);
    let win=Math.floor(bet*cx);
    balance+=win; ing=false;
    res('crashRes',"ğŸ’° +"+win,'win'); upd();
}
function boom(){
    clearInterval(ct); ing=false;
    res('crashRes',"ğŸ’¥ CRASH",'lose');
}

/* ROULETTE */
function playRoulette(){
    if(balance<bet)return;
    balance-=bet;
    let win=Math.random()<0.45;
    if(win){balance+=bet*2;res('roulRes',"ğŸ‰ ĞŸĞ¾Ğ±ĞµĞ´Ğ°",'win')}
    else res('roulRes',"ğŸ˜¢ ĞŸÑ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ñˆ",'lose');
    upd();
}

/* MINES */
let bombs=[];
function startMines(){
    if(balance<bet)return;
    balance-=bet; bombs=[];
    for(let i=0;i<5;i++)bombs.push(Math.floor(Math.random()*25));
    grid.innerHTML="";
    for(let i=0;i<25;i++){
        let d=document.createElement("div");
        d.className="cell";
        d.onclick=()=>openCell(i,d);
        grid.appendChild(d);
    }
    upd();
}
function openCell(i,d){
    if(bombs.includes(i)){
        d.innerText="ğŸ’£";
        res('mineRes',"ğŸ’¥ Ğ’Ğ—Ğ Ğ«Ğ’",'lose');
    }else{
        d.innerText="ğŸ’";
        balance+=50;
        res('mineRes',"+50",'win');
        upd();
    }
}

/* UTIL */
function r(){return sym[Math.floor(Math.random()*sym.length)]}
function upd(){
    balance=Math.max(balance,0);
    document.getElementById("balance").innerText=balance;
    tg.sendData(JSON.stringify({balance}));
}
function res(id,t,c){
    let e=document.getElementById(id);
    e.className="result "+c;
    e.innerText=t;
}
</script>

</body>
</html>
